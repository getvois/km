
{% extends 'KunstmaanAdminListBundle:Default:list.html.twig' %}

{% block extra_actions_header %}
    {% if adminlistconfigurator.overviewPage %}
        <div class='main_actions btn-group'>
            <a href='#' data-target='#add-subpage-modal' data-toggle='modal' class='btn btn-primary'>{{ 'form.add'|trans }}</a>
        </div>


        <div class="modal fade" id="add-subpage-modal" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title">Add Article</h4>
                    </div>
                    <form action='{{ path('KunstmaanNodeBundle_nodes_add', { 'id': get_node_for(adminlistconfigurator.overviewPage).id , 'type' : 'Sandbox\\WebsiteBundle\\Entity\\Article\\ArticlePage'}) }}' method='post' novalidate='novalidate'>
                        <div class="modal-body">
                            <div class="form-group">
                                <label for='addpage_title'>Title</label>
                                <input type="text" class="form-control" name='title' id="addpage_title">
                            </div>
                        </div>

                        <div class='modal-footer'>
                            <div class='btn_group'>
                                <input type='submit' name='submit' value='Add' class='btn btn-primary' />
                                <button type="button" class='btn' data-dismiss='modal'>Cancel</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>




        <div id='add-subpage-modal' class='modal fade'>
            <div class='modal-header'>
                <button class='close' data-dismiss='modal'>&times;</button>
                <h3>Add Article</h3>
            </div>
            <form action='{{ path('KunstmaanNodeBundle_nodes_add', { 'id': get_node_for(adminlistconfigurator.overviewPage).id , 'type' : 'Sandbox\\WebsiteBundle\\Entity\\Article\\ArticlePage'}) }}' method='post' novalidate='novalidate'>
                <div class='modal-body'>
                    <div class='input_prop'>
                        <label for='addpage_title'>Title</label>
                        <input name='title' id='addpage_title' type='text'>
                    </div>
                </div>
                <div class='modal-footer'>
                    <div class='btn_group'>
                        <input type='submit' name='submit' value='Add' class='btn btn-primary' />
                        <button class='btn' data-dismiss='modal'>Cancel</button>
                    </div>
                </div>
            </form>
        </div>
    {% else %}
        <div class='alert alert-block'>
            <strong>Warning: </strong> You need to create at least one overview page before you can create a Article
        </div>
    {% endif %}
{% endblock %}

